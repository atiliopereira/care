{% extends 'admin/base_site.html'%}
{% load i18n admin_static %}
{% load my_tags %}

{% block extrastyle %}
	<link rel="stylesheet" href="{% static 'chosen/chosen.css' %}">
	<link rel="stylesheet" href="{% static 'chosen/docsupport/prism.css' %}">
{% endblock %}

{% block extrajs %}
<script src="{% static 'chosen/chosen.jquery.js' %}"></script>
<script src="{% static 'chosen/docsupport/prism.js' %}"></script>

<script type="text/javascript" src="{% static 'js/jquery.maskedinput.min.js' %}"></script>


<script type="text/javascript">
	$(".chosen-select").chosen({
		disable_search_threshold: 0,
		no_results_text: "Sin resultados..",
		width: "300px",
		allow_single_deselect: true
	});
	$('.chosen-select').trigger('chosen:updated');

    jQuery(function($) {
        $(".date").mask("99/99/9999",{placeholder:"dd/mm/aaaa"});
    });


</script>
{% endblock %}

{% block breadcrumbs %}

    <div class="breadcrumbs">
        <a href="{% url 'admin:index' %}">Inicio</a>
        &rsaquo; <a href="{% url 'admin:app_list' 'turnos' %}">Turnos</a>
        &rsaquo; Agenda
    </div>

{% endblock %}

{% block content %}
    <style>
        td {
          border-right: solid 1px lightgrey;
          border-left: solid 1px lightgrey;
        }
</style>
	<form class="form" method="get">
		<h1>Turnos del día</h1>
		<center>
			<dl>
				<table class="table-filter table table-bordered table-stripped">
					<tbody>

						<tr>
							<th style="vertical-align:middle">
								<strong> Fecha:</strong>
							</th>
							<td style="vertical-align:middle">
								<input type="text" class="date" placeholder="dd/mm/aaaa" name="fecha" value="{{ fecha }}">
							</td>

							<th style="border-top :3px solid white; border-right :3px solid white; border-bottom :3px solid white;">
								<a class="btn btn-info" href="/admin/turnos/agenda/" title="Limpiar Filtros">
									<i class="fa fa-undo"></i>
								</a>
								<input type="submit" value="Buscar" class="btn btn-success" hidden="hidden" style="display: none">
							</th>
						</tr>

					</tbody>
				</table>
			</dl>
		</center>


	</form>

	<br></br>
    <div align="right" style="padding-right: 5%">
		<h2>Total ({{ total_turnos }})</h2>
    </div>

	<div align="center">
		<table id="result_list" class="table table-striped table-filter" style="width: 90%">
			<thead>
				<tr>
                    <th>Hora</th>
                    <th>Peluquería</th>
                    <th>Spa</th>
				</tr>
			</thead>

			<tbody>

                <tr>
                    <td>08:00</td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "pel" %}
                                {% if turno.hora_inicio.hour == 8 and turno.hora_inicio.minute >= 00  and turno.hora_inicio.minute < 30 %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "spa" %}
                                {% if turno.hora_inicio.hour == 8 and turno.hora_inicio.minute >= 00  and turno.hora_inicio.minute < 30 %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                </tr>

                <tr style="background-color: #dcdcdc">
                    <td>08:30</td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "pel" %}
                                {% if turno.hora_inicio.hour == 8 and turno.hora_inicio.minute >= 30  %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "spa" %}
                                 {% if turno.hora_inicio.hour == 8 and turno.hora_inicio.minute >= 30  %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                </tr>

                <tr>
                    <td>09:00</td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "pel" %}
                                {% if turno.hora_inicio.hour == 9 and turno.hora_inicio.minute >= 00  and turno.hora_inicio.minute < 30 %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "spa" %}
                                {% if turno.hora_inicio.hour == 9 and turno.hora_inicio.minute >= 00  and turno.hora_inicio.minute < 30 %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                </tr>

                <tr style="background-color: #DCDCDC">
                    <td>09:30</td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "pel" %}
                                {% if turno.hora_inicio.hour == 9 and turno.hora_inicio.minute >= 30  %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "spa" %}
                                 {% if turno.hora_inicio.hour == 9 and turno.hora_inicio.minute >= 30  %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                </tr>

                <tr>
                    <td>10:00</td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "pel" %}
                                {% if turno.hora_inicio.hour == 10 and turno.hora_inicio.minute >= 00  and turno.hora_inicio.minute < 30 %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "spa" %}
                                {% if turno.hora_inicio.hour == 10 and turno.hora_inicio.minute >= 00  and turno.hora_inicio.minute < 30 %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                </tr>

                <tr style="background-color: #DCDCDC">
                    <td>10:30</td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "pel" %}
                                {% if turno.hora_inicio.hour == 10 and turno.hora_inicio.minute >= 30  %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "spa" %}
                                 {% if turno.hora_inicio.hour == 10 and turno.hora_inicio.minute >= 30  %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                </tr>

                <tr>
                    <td>11:00</td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "pel" %}
                                {% if turno.hora_inicio.hour == 11 and turno.hora_inicio.minute >= 00  and turno.hora_inicio.minute < 30 %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "spa" %}
                                {% if turno.hora_inicio.hour == 11 and turno.hora_inicio.minute >= 00  and turno.hora_inicio.minute < 30 %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                </tr>

                <tr style="background-color: #DCDCDC">
                    <td>11:30</td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "pel" %}
                                {% if turno.hora_inicio.hour == 11 and turno.hora_inicio.minute >= 30  %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "spa" %}
                                 {% if turno.hora_inicio.hour == 11 and turno.hora_inicio.minute >= 30  %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                </tr>

                <tr>
                    <td>12:00</td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "pel" %}
                                {% if turno.hora_inicio.hour == 12 and turno.hora_inicio.minute >= 00  and turno.hora_inicio.minute < 30 %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "spa" %}
                                {% if turno.hora_inicio.hour == 12 and turno.hora_inicio.minute >= 00  and turno.hora_inicio.minute < 30 %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                </tr>

                <tr style="background-color: #DCDCDC">
                    <td>12:30</td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "pel" %}
                                {% if turno.hora_inicio.hour == 12 and turno.hora_inicio.minute >= 30  %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "spa" %}
                                 {% if turno.hora_inicio.hour == 12 and turno.hora_inicio.minute >= 30  %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                </tr>

                <tr>
                    <td>13:00</td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "pel" %}
                                {% if turno.hora_inicio.hour == 13 and turno.hora_inicio.minute >= 00  and turno.hora_inicio.minute < 30 %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "spa" %}
                                {% if turno.hora_inicio.hour == 13 and turno.hora_inicio.minute >= 00  and turno.hora_inicio.minute < 30 %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                </tr>

                <tr style="background-color: #DCDCDC">
                    <td>13:30</td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "pel" %}
                                {% if turno.hora_inicio.hour == 13 and turno.hora_inicio.minute >= 30  %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "spa" %}
                                 {% if turno.hora_inicio.hour == 13 and turno.hora_inicio.minute >= 30  %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                </tr>

                <tr>
                    <td>14:00</td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "pel" %}
                                {% if turno.hora_inicio.hour == 14 and turno.hora_inicio.minute >= 00  and turno.hora_inicio.minute < 30 %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "spa" %}
                                {% if turno.hora_inicio.hour == 14 and turno.hora_inicio.minute >= 00  and turno.hora_inicio.minute < 30 %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                </tr>

                <tr style="background-color: #DCDCDC">
                    <td>14:30</td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "pel" %}
                                {% if turno.hora_inicio.hour == 14 and turno.hora_inicio.minute >= 30  %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "spa" %}
                                 {% if turno.hora_inicio.hour == 14 and turno.hora_inicio.minute >= 30  %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                </tr>

                <tr>
                    <td>15:00</td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "pel" %}
                                {% if turno.hora_inicio.hour == 15 and turno.hora_inicio.minute >= 00  and turno.hora_inicio.minute < 30 %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "spa" %}
                                {% if turno.hora_inicio.hour == 15 and turno.hora_inicio.minute >= 00  and turno.hora_inicio.minute < 30 %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                </tr>

                <tr style="background-color: #DCDCDC">
                    <td>15:30</td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "pel" %}
                                {% if turno.hora_inicio.hour == 15 and turno.hora_inicio.minute >= 30  %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "spa" %}
                                 {% if turno.hora_inicio.hour == 15 and turno.hora_inicio.minute >= 30  %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                </tr>

                <tr>
                    <td>16:00</td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "pel" %}
                                {% if turno.hora_inicio.hour == 16 and turno.hora_inicio.minute >= 00  and turno.hora_inicio.minute < 30 %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "spa" %}
                                {% if turno.hora_inicio.hour == 16 and turno.hora_inicio.minute >= 00  and turno.hora_inicio.minute < 30 %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                </tr>

                <tr style="background-color: #DCDCDC">
                    <td>16:30</td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "pel" %}
                                {% if turno.hora_inicio.hour == 16 and turno.hora_inicio.minute >= 30  %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "spa" %}
                                 {% if turno.hora_inicio.hour == 16 and turno.hora_inicio.minute >= 30  %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                </tr>

                <tr>
                    <td>17:00</td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "pel" %}
                                {% if turno.hora_inicio.hour == 17 and turno.hora_inicio.minute >= 00  and turno.hora_inicio.minute < 30 %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "spa" %}
                                {% if turno.hora_inicio.hour == 17 and turno.hora_inicio.minute >= 00  and turno.hora_inicio.minute < 30 %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                </tr>

                <tr style="background-color: #DCDCDC">
                    <td>17:30</td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "pel" %}
                                {% if turno.hora_inicio.hour == 17 and turno.hora_inicio.minute >= 30  %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "spa" %}
                                 {% if turno.hora_inicio.hour == 17 and turno.hora_inicio.minute >= 30  %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                </tr>

                <tr>
                    <td>18:00</td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "pel" %}
                                {% if turno.hora_inicio.hour == 18 and turno.hora_inicio.minute >= 00  and turno.hora_inicio.minute < 30 %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "spa" %}
                                {% if turno.hora_inicio.hour == 18 and turno.hora_inicio.minute >= 00  and turno.hora_inicio.minute < 30 %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                </tr>

                <tr style="background-color: #DCDCDC">
                    <td>18:30</td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "pel" %}
                                {% if turno.hora_inicio.hour == 18 and turno.hora_inicio.minute >= 30  %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "spa" %}
                                 {% if turno.hora_inicio.hour == 18 and turno.hora_inicio.minute >= 30  %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                </tr>

                <tr>
                    <td>19:00</td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "pel" %}
                                {% if turno.hora_inicio.hour == 19 and turno.hora_inicio.minute >= 00  and turno.hora_inicio.minute < 30 %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "spa" %}
                                {% if turno.hora_inicio.hour == 19 and turno.hora_inicio.minute >= 00  and turno.hora_inicio.minute < 30 %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                </tr>

                <tr style="background-color: #DCDCDC">
                    <td>19:30</td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "pel" %}
                                {% if turno.hora_inicio.hour == 19 and turno.hora_inicio.minute >= 30  %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "spa" %}
                                 {% if turno.hora_inicio.hour == 19 and turno.hora_inicio.minute >= 30  %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                </tr>

                <tr>
                    <td>20:00</td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "pel" %}
                                {% if turno.hora_inicio.hour == 20 and turno.hora_inicio.minute >= 00  and turno.hora_inicio.minute < 30 %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "spa" %}
                                {% if turno.hora_inicio.hour == 20 and turno.hora_inicio.minute >= 00  and turno.hora_inicio.minute < 30 %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                </tr>

                <tr style="background-color: #DCDCDC">
                    <td>20:30</td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "pel" %}
                                {% if turno.hora_inicio.hour == 20 and turno.hora_inicio.minute >= 30  %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                    <td>
                        {% for turno in object_list %}
                            {% if turno.categoria == "spa" %}
                                 {% if turno.hora_inicio.hour == 20 and turno.hora_inicio.minute >= 30  %}
                                    {{ turno.cliente.nombre }} , {% else %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </td>
                </tr>

			</tbody>
		</table>
	</div>
{% endblock %}

